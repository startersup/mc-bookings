<!DOCTYPE html>
<html lang="en" id="html">
<head>
  <title>New Booking | Minicabee Travel Solutions</title>
  <meta charset="utf-8">
  <link rel="icon" href="../assets/images/icons/fleet.png" type="image/x-icon" sizes="16x16" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
<link href="https://cdn.datatables.net/buttons/1.6.1/css/buttons.dataTables.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>    
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.4/jquery.datetimepicker.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.4/build/jquery.datetimepicker.full.min.js"></script>
    <script src="https://harvesthq.github.io/chosen/chosen.jquery.js"></script>
  <link rel="stylesheet" href="../assets/css/style.css">
  <script src="../assets/js/NewBooking.js"></script>
 
</head>
<body onload="setLoad();">

  <div id="spinnermodal" class="modal11 modal right fade in"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel2" style="    
  display: block;
  background-color: rgb(255, 255, 255);
  min-width: 1500px;
  top: 48px;
  left: 65px;
  border: none;">
    <div class="modal11-content">
      <div class="loader" style="max-width:100px;position:absolute;top:300px;left:650px;">
        <centre> <img width="80px;" src="./assets/images/icons/loader.svg"></centre>    
      </div>
    </div>
  </div>
    <!----navbar-starts----->
<nav class="navbar navbar-default mc-dash-nav">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="../"><img class="mc-nav-logo" src="../assets/images/icons/fleet.svg"><span></span><div class="mc-buyer-name">Minicabee Travel Solutions</div></a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav mc-dash-mid">
        <li class="active"><a class="mc-load" href="../passengers/">Passengers</a></li>
        <li><a class="mc-load" href="#">Drivers</a></li>
        <li><a class="mc-load" href="#">Partners</a></li>
        <li><a class="mc-load" href="../invoice.html">Invoice</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
          <li><input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for Bookings, Names, Passsengers....." title="Type in a name"></li>
            <li class="dropdown"><a href=""  class="dropdown-toggle custom-arrow">Help</a>
                <div class="mc-dropdown-content mc-bx-shdw">
                <ul class="mc-drop-desc">
                    <li>Help Docs</li>
                    <li>Feedback</li>
                     <li>Raise Ticket</li>
                    <li>Live Chat</li>
                </ul>
                </div>
        </li>
        <li><a href="" data-toggle="modal" data-target="#notification-bar">Notifications</a></li>
          <li><a href="#"><img src="../assets/images/mc-male-avathar.png" alt="Avatar" class="mc-avatar-bar"></a></li>
      </ul>
    </div>
  </div>
</nav>  <!----navbar-ends----->
    
    
      <!----sub-navbar-starts----->
    <div class="mc-sub-section">
    <ul class="mc-sub-left">
   <li  class="bolder">New Booking</li>

    </ul>
    
          
    </div>
    
      <!----sub-navbar-ends----->
    <div class=" mc-alert-box alert-dismissible" id="myAlert">
      <div class="mc-alert-status color-green" id="myAlert_color" ><p id="myAlert_status" >Success</p></div>
      <div class="mc-alert-desc " >     <a href="#" onclick="closeModal();" class="close" data-dismiss="alert" aria-label="close">&times;</a><p id="myAlert_msg"> hII there</p></div>
    </div>
    
    
    <!----sidebar-starts----->
    <div class="mc-dash-sidebar">
    <ul>
        <li><a href="./"><img class="mc-icons" data-toggle="tooltip" data-placement="right" title="Dashboard" src="../assets/images/icons/analytics.svg"></a></li>     
    <li><img class="mc-icons" data-toggle="tooltip" data-placement="right" title="Bookings" src="../assets/images/icons/bookings.svg"></li>  
  <li><img class="mc-icons" data-toggle="tooltip" data-placement="right" title="Company" src="../assets/images/icons/company.svg"></li> 
   <li><img class="mc-icons" data-toggle="tooltip" data-placement="right" title="Tracking" src="../assets/images/icons/track.svg"></li> 
      <li><a href="../marketing/email-marketing"><img class="mc-icons" data-toggle="tooltip" data-placement="right" title="Marketing" src="../assets/images/icons/marketing.svg"></a></li> 
    <li><img class="mc-icons" data-toggle="tooltip" data-placement="right" title="Chatting" src="../assets/images/icons/chat.svg"></li> 
     <li><img class="mc-icons" data-toggle="tooltip" data-placement="right" title="settings" src="../assets/images/icons/gear.svg"></li>       
   </ul>
     
</div>
        
<!----Sidebar-ends----->    
    

    
    <!---mainbar-starts----->
    
    <div class="mc-dash-mainbar">
<div class="mc-mainbar-components" STYLE="width: calc(100% - 6px);">
    <div class="row">
        <div class="col-md-4 row-three">
    <div id="wrapper">
        <div id="map"></div>
          <div id="over_map" class="over-the-map">
          <div class="mc-distance"><i class="fa fa-road"></i> <span>Distance</span><br/><h5><span id="route_miles"></span> Miles</h5></div>
          <div class="mc-time"><i class="fa fa-clock-o"></i> <span>Journey Time</span><br/><h5 id="route_time"></h5></div>
          <div class="mc-fare"><i class="fa fa-gbp"></i> <span>Apprx fare</span><br/> <h5 ><span id="route_fare"></span> GBP</h5> </div>
        </div>
    
        <input id="origin-input" class="controls" type="text"
        placeholder="Enter Pickup Postcode" name="pick" required><br>
        <input id="destination-input" class="controls" type="text"
        placeholder="Enter Dropoff Postcode" name="drop" required>

    <!--    <div class="row">
            <div class="col-md-6">
                <select name="passenger" id="np" class="selectit" autocomplete="off">
      <option value="1">1 Passenger</option>
      <option value="2">2 Passengers</option>
      <option value="3">3 Passengers</option>
      <option value="4">4 Passengers</option>   
      <option value="5">5 Passengers</option>
      <option value="6">6 Passengers</option>
      <option value="7">7 Passengers</option>
      <option value="8">8 Passengers</option>
      <option value="9">9 Passengers</option>
      <option value="10">10 Passengers</option>
    </select>
                </div>
                <div class="col-md-6">
                <select name="Luggage" id="nl" class="selectit" autocomplete="off">
      <option value="0">0 Luggage</option>
      <option value="1">1 Luggage</option>
      <option value="2">2 Luggages</option>
      <option value="3">3 Luggages</option>
      <option value="4">4 Luggages</option>   
      <option value="5">5 Luggages</option>
      <option value="6">6 Luggages</option>
      <option value="7">7 Luggages</option>
      <option value="8">8 Luggages</option>
      <option value="9">9 Luggages</option>
      <option value="10">10 Luggages</option>
    </select>
                </div>
            </div> -->
                        <select name="cabType" id="cabType" onchange="setEstimate();" class="selectit" autocomplete="off">
      <option value="Saloon">Saloon</option>
      <option value="Estate">Estate</option>
      <option value="MPV-4">MPV 4</option>
      <option value="MPV-6">MPV 6</option>   
      <option value="8-Seater">7 Seater</option>
      <option value="9-Seater">9 Seater</option>
    
    </select>
<button style="width:100%;" onclick="GetFare();" class="mc-cta">Calculate Fare </button>

    </div></div>

    <div class="col-md-4 row-three">
<div class="mc-passenger-info">
    <h3>Booking Information</h3>

<label for="web">Booking Website</label>
<select name="passenger" id="booked_site" class="selectit" autocomplete="off">
    <option value="minicabee.co.uk">minicabee.co.uk</option>
    <option value="britannia-taxis.com">britannia-taxis.com</option>
</select>

<label for="name">Fare</label>
<input class="controls" type="text" id="fare"
placeholder="Enter Fare" onkeyup="MaskedDecimal(this,5,2);" autocomplete="off">
<label for="datetime">Date and Time</label>
<input id="datetimepicker" class="controls" type="text" placeholder="Pickup Date & Time" name="date"  autocomplete="off">

<input type="hidden" id="date">
<input type="hidden" id="time">
        <label for="name">Passenger Name</label>
        <input class="controls" type="text" id="name"
placeholder="Enter Name" autocomplete="off">
      
              <label for="name">Passenger Email</label>
        <input class="controls" type="text" id="mail"
placeholder="Enter Passenger Email" autocomplete="off">
      
  
                 <label for="name">Passenger Contact</label>
        <input class="controls" type="text" id="mobile1"
placeholder="Enter Passenger Contact" onkeyup="MaskedNumber(this, 15)" autocomplete="off">
      
        <label for="name">Alternate Contact</label>
        <input class="controls" type="text" id="mobile2"
placeholder="Enter Alternate Contact" onkeyup="MaskedNumber(this, 15);" autocomplete="off">
      
              <label for="name">Full Pickup Address</label>
        <input class="controls" type="text" id="address1"
placeholder="eg: 124 colin street, crawley" autocomplete="off">
     
                         <label for="name">Full Dropoff Address</label>
        <input class="controls" type="text" id="address2"
placeholder="eg: 12 Walnut Lane, crawley" autocomplete="off">

    <div class="row">
    <div class="col-md-6">
                <label for="name">Adults</label>
<select name="passenger" id="np" class="selectit" autocomplete="off">
<option value="1">1 Passenger</option>
<option value="2">2 Passengers</option>
<option value="3">3 Passengers</option>
<option value="4">4 Passengers</option>   
<option value="5">5 Passengers</option>
<option value="6">6 Passengers</option>
<option value="7">7 Passengers</option>
<option value="8">8 Passengers</option>
<option value="9">9 Passengers</option>
<option value="10">10 Passengers</option>
</select>
        </div>    
                     <div class="col-md-6">
                <label for="name">Infants</label>
<select name="passenger" id="np2" class="selectit" autocomplete="off">
<option value="0">0 Passenger</option>
<option value="1">1 Passenger</option>
<option value="2">2 Passengers</option>
<option value="3">3 Passengers</option>
<option value="4">4 Passengers</option>   
<option value="5">5 Passengers</option>
<option value="6">6 Passengers</option>
<option value="7">7 Passengers</option>
<option value="8">8 Passengers</option>
<option value="9">9 Passengers</option>
<option value="10">10 Passengers</option>
</select>
        </div> </div>

        <div class="row">
        <div class="col-md-6">
          <label for="name">Luggages</label>
<select name="passenger" id="nl" class="selectit" autocomplete="off">
  <option value="0">0 Luggages</option>
  <option value="1">1 Luggages</option>
  <option value="2">2 Luggages</option>
  <option value="3">3 Luggages</option>
  <option value="4">4 Luggages</option>   
  <option value="5">5 Luggages</option>
  <option value="6">6 Luggages</option>
  <option value="7">7 Luggages</option>
  <option value="8">8 Luggages</option>
  <option value="9">9 Luggages</option>
  <option value="10">10 Luggages</option>
</select>
  </div> 
<div class="col-md-6">
  <label for="name">Flight Details</label>
  <input class="controls" type="text" id="location"
placeholder="eg: Easyjet EZYT54" autocomplete="off">
</div>
    </div>
        
          <label for="name">Special Information</label>
        <input class="controls" type="text" id="info"
placeholder="eg: dogs with me " autocomplete="off">
    </div>
</div>

<div class="col-md-4 row-three">
    <div class="mc-passenger-info">
        <div class="mc-driver-alloc">
        <h3>Allocate Driver</h3>
        <table class="manalloc-table">
            <tbody>

                <tr>
       <!-- <td><input type="text" class="controls bordered"  id="drvid_get" value="" name="amt" placeholder="Enter Driver Name"><input type="hidden"   id="drvid" value="" name="amt" > </td> -->
       <select name="drvid" id="drvid"  class="selectit" autocomplete="off">
      </select>
       <td><input type="text" class="controls bordered"  id="dfare" name="amt" placeholder="Enter Amount"></td>
       <td><button class="buttongreen" onclick="manual_alloc();">Allocate </button></td>
     </tr>
          </tbody> 
           </table>
		   
		   <button class="buttongreen" onclick="bookNow();">Book Now </button>
    </div>

<div class="mc-booking-sms">
    <h3>Booking SMS</h3>
    <div class="row">
      <div class="col-md-12">
        <p class="sms">Passenger Details</p>
<input type="text" class="dark-controls" id="id_number1" name="number1"  value="" placeholder="Enter Contact Number">     
<textarea class="dark-controls" rows="9" id="id_message1" name="message1" style="width:100%;min-height:200px;"></textarea>


</div>

<div class="col-md-12">
  <div class="mc-booking-sms">
    
           <p class="sms" style="padding:10px;margin-top:10px;">Driver Details</p>
           
    
           
<input type="text" class="dark-controls" id="id_number2" name="number2" value=""placeholder="Enter Contact Number">     
<textarea class="dark-controls" rows="9" id="id_message2" name="message2" style="width:100%;min-height:200px;"></textarea>
</div>
</div>

<center> <button class="mc-cta" id="send_sms">SEND NOW</button></center> 
<br/><br/>
</div></div>


</div>
</div>
</div>




    
      <!---mainbar-starts----->
    
<!---modals-section------>
    
    <!--Notification Modal -->
	<div class="modal right fade" id="notification-bar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
		<div class="modal-dialog" role="document">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="mc-close close" data-dismiss="modal" aria-label="Close"><i class="fa fa-times"></i></button>
					<h4 class="modal-title" id="myModalLabel2">Notifications</h4>
				</div>

				<div class="modal-body">
                    <ul>
                    <li></li>
                    </ul>
				</div>

			</div><!-- modal-content -->
		</div><!-- modal-dialog -->
	</div><!-- modal -->
     <!--Notification Modal -->
    

    <!---modals-section------>
    
<script>$(document).ready(function() {
    $('img').tooltip()
} );

$("#close").click(function(){
  $(".mc-alert-box").hide();
});

</script>
    
   

    <script>
      $( function() {
        $( "#dialog" ).dialog();
      } );
      setTimeOut(function() {
    $( "#dialog" ).dialog( "close" )
}, 5000);
      </script>


<script>function initMap() {
    var map = new google.maps.Map(document.getElementById('map'), {
      mapTypeControl: false,
      center: {lat: 51.5074, lng: 0.1278},
      zoom: 10,
      disableDefaultUI: true
    });

    new AutocompleteDirectionsHandler(map);
  }

   /**
    * @constructor
   */
  function AutocompleteDirectionsHandler(map) {
    this.map = map;
    this.originPlaceId = null;
    this.destinationPlaceId = null;
    this.travelMode = 'DRIVING';
    var originInput = document.getElementById('origin-input');
    var destinationInput = document.getElementById('destination-input');
    var modeSelector = document.getElementById('mode-selector');
    this.directionsService = new google.maps.DirectionsService;
    this.directionsDisplay = new google.maps.DirectionsRenderer;
    this.directionsDisplay.setMap(map);

    var originAutocomplete = new google.maps.places.Autocomplete(
        originInput, {placeIdOnly: true}
    );
       originAutocomplete.setComponentRestrictions(
        {'country': ['uk']});
    var destinationAutocomplete = new google.maps.places.Autocomplete(
        destinationInput, {placeIdOnly: true});
     destinationAutocomplete.setComponentRestrictions(
        {'country': ['uk']});
    this.setupPlaceChangedListener(originAutocomplete, 'ORIG');
    this.setupPlaceChangedListener(destinationAutocomplete, 'DEST');
  }
  AutocompleteDirectionsHandler.prototype.setupClickListener = function(id, mode) {
    var radioButton = document.getElementById(id);
    var me = this;
    radioButton.addEventListener('click', function() {
      me.travelMode = mode;
      me.route();
    });
  };

  AutocompleteDirectionsHandler.prototype.setupPlaceChangedListener = function(autocomplete, mode) {
    var me = this;
    autocomplete.bindTo('bounds', this.map);
    autocomplete.addListener('place_changed', function() {
      var place = autocomplete.getPlace();
      if (!place.place_id) {
        window.alert("Please select an option from the dropdown list.");
        return;
      }
      if (mode === 'ORIG') {
        me.originPlaceId = place.place_id;
      } else {
        me.destinationPlaceId = place.place_id;
      }
      me.route();
    });

  };

  AutocompleteDirectionsHandler.prototype.route = function() {
    if (!this.originPlaceId || !this.destinationPlaceId) {
      return;
    }
    var me = this;

    this.directionsService.route({
      origin: {'placeId': this.originPlaceId},
      destination: {'placeId': this.destinationPlaceId},
      travelMode: this.travelMode
    }, function(response, status) {
      if (status === 'OK') {
        me.directionsDisplay.setDirections(response);
      } else {
        window.alert('Directions request failed due to ' + status);
      }
    });
  };
</script>

<script>
  $(document).ready(function() {
      $.datetimepicker.setLocale('pt-EN');
      $('#datetimepicker').datetimepicker({
          // var u="60:00";
          datepicker: true,
          allowTimes: [
              '00:00', '00:15', '00:30', '00:45', '01:00', '01:15', '01:30', '01:45', '02:00', '02:15', '02:30', '02:45', '03:00', '03:15', '03:30', '03:45', '04:00', '04:15', '04:30', '04:45', '05:00', '05:15', '05:30', '05:45', '06:00', '06:15', '06:30', '06:45', '07:00', '07:15', '07:30', '07:45', '08:00', '08:15', '08:30', '08:45', '09:00', '09:15', '09:30', '09:45', '10:00', '10:15', '10:30', '10:45', '11:00', '11:15', '11:30', '11:45', '12:00', '12:15', '12:30', '12:45', '13:00', '13:15', '13:30', '13:45', '14:00', '14:15', '14:30', '14:45', '15:00', '15:15', '15:30', '15:45', '16:00', '16:15', '16:30', '16:45', '17:00', '17:15', '17:30', '17:45', '18:00', '18:15', '18:30', '18:45', '19:00', '19:15', '19:30', '19:45', '20:00', '20:15', '20:30', '20:45', '21:00', '21:15', '21:30', '21:45', '22:00', '22:15', '22:30', '22:45', '23:00', '23:15', '23:30', '23:45'
          ]
      });

  });
</script>
    

    
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgJNbx7wr01p7h2a0psOsVieTc7Ge1LB8&libraries=places&callback=initMap"
    async defer></script>
    
    <script src="./assets/js/server.js"></script>

<script>
document.getElementById("spinnermodal").style.display = "none";

</script>
    
    </body>
  
   
</html>


